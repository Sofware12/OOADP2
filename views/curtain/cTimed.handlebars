<link rel="stylesheet" href="css/cTimed.css">
<script>
	function startTime() {
		var today = new Date();
		var h = today.getHours();
		var m = today.getMinutes();
		var s = today.getSeconds();
		m = checkTime(m);
		s = checkTime(s);
		document.getElementById('txt').innerHTML =
			h + ":" + m + ":" + s;
		var t = setTimeout(startTime, 500);
	}
	function checkTime(i) {
		if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
		return i;
	}

	var alarm = new Date(ms);
	var alarmTime = new Date(alarm.getUTCFullYear(), alarm.getUTCMonth(), alarm.getUTCDate(), alarm.getUTCHours(), alarm.getUTCMinutes(), alarm.getUTCSeconds());

	var differenceInMs = alarmTime.getTime() - (new Date()).getTime();

	if (differenceInMs < 0) {
		alert('Specified time is already passed');
		return;
	}

	alarmTimer = setTimeout(initAlarm, differenceInMs);
	button.innerText = 'Cancel Alarm';
	button.setAttribute('onclick', 'cancelAlarm(this);');
					};

	function cancelAlarm(button) {
		clearTimeout(alarmTimer);
		button.innerText = 'Set Alarm';
		button.setAttribute('onclick', 'setAlarm(this);')
	};

	function initAlarm() {
		alarmSound.play();
		document.getElementById('alarmOptions').style.display = '';
	};

	function stopAlarm() {
		alarmSound.pause();
		alarmSound.currentTime = 0;
		document.getElementById('alarmOptions').style.display = 'none';
		cancelAlarm(document.getElementById('alarmButton'));
	};

	$('.button').click(function () {
		if ($(this).hasClass('active')) {
			$(this).removeClass('active')
		} else {
			$(this).addClass('active')
		}
	});

</script>

<body onload="startTime()">
	<section class="container">
		<div class="left-side">
			<article>
				<h1>Timer</h1>
				<div id="txt"></div>
				<input id="alarmTime" type="datetime-local">
				<button id="alarmButton" onclick="setAlarm(this);">Set Alarm</button>
				<div id="alarmOptions" style="display: none;">
					<button onclick="stopAlarm();">Stop Alarm</button>
				</div>
			</article>
		</div>
		<div class="right-side">
			<article>
				<h1>Ambience</h1>
				<div class="ambience-box">
					<button class="button"><img src="../css/morning.png" height="100" width="100"></button>
					<button class="button"><img src="../css/night.jpg" height="100" width="100"></button>
					<button class="button"><img src="../css/movie.png" height="100" width="100"></button>
					<button class="button"><img src="../css/party.png" height="100" width="100"></button>
				</div>
			</article>
		</div>
	</section>
</body>